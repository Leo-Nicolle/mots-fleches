[server](../README.md) / [Modules](../modules.md) / [search/dico](../modules/search_dico.md) / Dico

# Class: Dico

[search/dico](../modules/search_dico.md).Dico

Dico is a sigleton class that contains the dictionnary
It is used to search for words in the grid

## Constructors

### constructor

• **new Dico**()

#### Defined in

[search/dico.ts:33](https://github.com/Leo-Nicolle/mots-fleches/blob/cc7533b/server/lib/search/dico.ts#L33)

## Properties

### loadingPromise

• `Private` **loadingPromise**: `undefined` \| `Promise`<`void`\>

The promise that will resolve when the dictionnary is loaded

#### Defined in

[search/dico.ts:20](https://github.com/Leo-Nicolle/mots-fleches/blob/cc7533b/server/lib/search/dico.ts#L20)

___

### locale

• **locale**: `string`

The locale dictionary folder

#### Defined in

[search/dico.ts:31](https://github.com/Leo-Nicolle/mots-fleches/blob/cc7533b/server/lib/search/dico.ts#L31)

___

### occurencies

• **occurencies**: [`OccurenceMap`](../modules/search_types.md#occurencemap)[]

The occurences of the words in the dictionnary
The first element is for 2 letters lemmes
The second element is for 3 letters lemmes

#### Defined in

[search/dico.ts:26](https://github.com/Leo-Nicolle/mots-fleches/blob/cc7533b/server/lib/search/dico.ts#L26)

___

### words

• **words**: `string`[] = `[]`

The list of words in the dictionnary

#### Defined in

[search/dico.ts:12](https://github.com/Leo-Nicolle/mots-fleches/blob/cc7533b/server/lib/search/dico.ts#L12)

___

### wordsMap

• **wordsMap**: `Map`<`string`, `number`\>

The map of words in the dictionnary

#### Defined in

[search/dico.ts:16](https://github.com/Leo-Nicolle/mots-fleches/blob/cc7533b/server/lib/search/dico.ts#L16)

## Methods

### addWordsToDictionnary

▸ **addWordsToDictionnary**(`data`): `void`

Add a word or a list of words to the dictionnary

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `data` | `string` \| `string`[] | The word or the list of words to add |

#### Returns

`void`

#### Defined in

[search/dico.ts:131](https://github.com/Leo-Nicolle/mots-fleches/blob/cc7533b/server/lib/search/dico.ts#L131)

___

### countOccurences

▸ **countOccurences**(`«destructured»`): `void`

For each letter of a word, count the occurences of the 2 or 3 letters lemmes
and add it to the occurences map

#### Parameters

| Name | Type |
| :------ | :------ |
| `«destructured»` | `Object` |
| › `index` | `number` |
| › `length` | ``3`` \| ``2`` |
| › `occs` | [`OccurenceMap`](../modules/search_types.md#occurencemap) |
| › `word` | `string` |

#### Returns

`void`

The occurence map of the words

#### Defined in

[search/dico.ts:50](https://github.com/Leo-Nicolle/mots-fleches/blob/cc7533b/server/lib/search/dico.ts#L50)

___

### getWords

▸ **getWords**(): `Promise`<`string`[]\>

Get the list of words in the dictionnary

#### Returns

`Promise`<`string`[]\>

All the words in the dictionnary

#### Defined in

[search/dico.ts:222](https://github.com/Leo-Nicolle/mots-fleches/blob/cc7533b/server/lib/search/dico.ts#L222)

___

### getWordsSync

▸ **getWordsSync**(): `string`[]

If you know that the dictionnary is already loaded

#### Returns

`string`[]

All the words in the dictionnary

#### Defined in

[search/dico.ts:229](https://github.com/Leo-Nicolle/mots-fleches/blob/cc7533b/server/lib/search/dico.ts#L229)

___

### loadDictionary

▸ **loadDictionary**(): `Promise`<`void`\>

Load the dictionnary from the files in the dictionnary folder
And in the user's dictionary

#### Returns

`Promise`<`void`\>

The promise that will resolve when the dictionnary is loaded

#### Defined in

[search/dico.ts:105](https://github.com/Leo-Nicolle/mots-fleches/blob/cc7533b/server/lib/search/dico.ts#L105)

___

### removeOccurence

▸ **removeOccurence**(`occsToRemove`, `targetOccs`, `dicoIndex`): `void`

Remove the occurences of a word from the occurences map

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `occsToRemove` | [`OccurenceMap`](../modules/search_types.md#occurencemap) | The occurenceMap generated by the word to remove |
| `targetOccs` | [`OccurenceMap`](../modules/search_types.md#occurencemap) | The occurenceMap to cleanup |
| `dicoIndex` | `number` | The index of the word to remove in the dictionnary |

#### Returns

`void`

#### Defined in

[search/dico.ts:82](https://github.com/Leo-Nicolle/mots-fleches/blob/cc7533b/server/lib/search/dico.ts#L82)

___

### removeWordsFromDictionary

▸ **removeWordsFromDictionary**(`data`): `Promise`<`void`\>

Remove a word or a list of words from the dictionnary
Do not remove it from the array of words, just unreference it
from the occurence map and from the wordsMap

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `data` | `string` \| `string`[] | The word or the list of words to remove |

#### Returns

`Promise`<`void`\>

#### Defined in

[search/dico.ts:173](https://github.com/Leo-Nicolle/mots-fleches/blob/cc7533b/server/lib/search/dico.ts#L173)

___

### setLocale

▸ **setLocale**(`locale`): `Promise`<`void`\>

Set locale and reload dictionnary

#### Parameters

| Name | Type |
| :------ | :------ |
| `locale` | `string` |

#### Returns

`Promise`<`void`\>

#### Defined in

[search/dico.ts:236](https://github.com/Leo-Nicolle/mots-fleches/blob/cc7533b/server/lib/search/dico.ts#L236)
